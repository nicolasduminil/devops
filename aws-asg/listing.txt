nicolas@BEL20:~/devops/aws-asg$ ./setup.sh
var.bucket_name
  The name of the S3 bucket. Must be globally unique.

  Enter a value: simplex-software-s3-bucket

Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.

aws_s3_bucket.simplex_software: Refreshing state... (ID: simplex-software-s3-bucket)

------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + aws_s3_bucket.simplex_software
      id:                          <computed>
      acceleration_status:         <computed>
      acl:                         "private"
      arn:                         <computed>
      bucket:                      "simplex-software-s3-bucket"
      bucket_domain_name:          <computed>
      bucket_regional_domain_name: <computed>
      force_destroy:               "true"
      hosted_zone_id:              <computed>
      region:                      <computed>
      request_payer:               <computed>
      versioning.#:                "1"
      versioning.0.enabled:        "true"
      versioning.0.mfa_delete:     "false"
      website_domain:              <computed>
      website_endpoint:            <computed>


Plan: 1 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

Note: You didn't specify an "-out" parameter to save this plan, so Terraform
can't guarantee that exactly these actions will be performed if
"terraform apply" is subsequently run.

var.bucket_name
  The name of the S3 bucket. Must be globally unique.

  Enter a value: simplex-software-s3-bucket

aws_s3_bucket.simplex_software: Refreshing state... (ID: simplex-software-s3-bucket)

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + aws_s3_bucket.simplex_software
      id:                          <computed>
      acceleration_status:         <computed>
      acl:                         "private"
      arn:                         <computed>
      bucket:                      "simplex-software-s3-bucket"
      bucket_domain_name:          <computed>
      bucket_regional_domain_name: <computed>
      force_destroy:               "true"
      hosted_zone_id:              <computed>
      region:                      <computed>
      request_payer:               <computed>
      versioning.#:                "1"
      versioning.0.enabled:        "true"
      versioning.0.mfa_delete:     "false"
      website_domain:              <computed>
      website_endpoint:            <computed>


Plan: 1 to add, 0 to change, 0 to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

aws_s3_bucket.simplex_software: Creating...
  acceleration_status:         "" => "<computed>"
  acl:                         "" => "private"
  arn:                         "" => "<computed>"
  bucket:                      "" => "simplex-software-s3-bucket"
  bucket_domain_name:          "" => "<computed>"
  bucket_regional_domain_name: "" => "<computed>"
  force_destroy:               "" => "true"
  hosted_zone_id:              "" => "<computed>"
  region:                      "" => "<computed>"
  request_payer:               "" => "<computed>"
  versioning.#:                "" => "1"
  versioning.0.enabled:        "" => "true"
  versioning.0.mfa_delete:     "" => "false"
  website_domain:              "" => "<computed>"
  website_endpoint:            "" => "<computed>"
aws_s3_bucket.simplex_software: Still creating... (10s elapsed)
aws_s3_bucket.simplex_software: Creation complete after 15s (ID: simplex-software-s3-bucket)

Apply complete! Resources: 1 added, 0 changed, 0 destroyed.

Outputs:

s3_bucket_arn = arn:aws:s3:::simplex-software-s3-bucket
var.db_password
  The password for the database

  Enter a value: ***********

Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.


------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + aws_db_instance.simplex_software
      id:                         <computed>
      address:                    <computed>
      allocated_storage:          "10"
      apply_immediately:          <computed>
      arn:                        <computed>
      auto_minor_version_upgrade: "true"
      availability_zone:          <computed>
      backup_retention_period:    <computed>
      backup_window:              <computed>
      ca_cert_identifier:         <computed>
      character_set_name:         <computed>
      copy_tags_to_snapshot:      "false"
      db_subnet_group_name:       <computed>
      endpoint:                   <computed>
      engine:                     "mysql"
      engine_version:             <computed>
      hosted_zone_id:             <computed>
      identifier:                 <computed>
      identifier_prefix:          <computed>
      instance_class:             "db.t2.micro"
      kms_key_id:                 <computed>
      license_model:              <computed>
      maintenance_window:         <computed>
      monitoring_interval:        "0"
      monitoring_role_arn:        <computed>
      multi_az:                   <computed>
      name:                       "simplex_software_mysql_dev_instance"
      option_group_name:          <computed>
      parameter_group_name:       <computed>
      password:                   <sensitive>
      port:                       <computed>
      publicly_accessible:        "false"
      replicas.#:                 <computed>
      resource_id:                <computed>
      skip_final_snapshot:        "true"
      status:                     <computed>
      storage_type:               <computed>
      timezone:                   <computed>
      username:                   "root"
      vpc_security_group_ids.#:   <computed>


Plan: 1 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

Note: You didn't specify an "-out" parameter to save this plan, so Terraform
can't guarantee that exactly these actions will be performed if
"terraform apply" is subsequently run.

var.db_password
  The password for the database

  Enter a value: **********


An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + aws_db_instance.simplex_software
      id:                         <computed>
      address:                    <computed>
      allocated_storage:          "10"
      apply_immediately:          <computed>
      arn:                        <computed>
      auto_minor_version_upgrade: "true"
      availability_zone:          <computed>
      backup_retention_period:    <computed>
      backup_window:              <computed>
      ca_cert_identifier:         <computed>
      character_set_name:         <computed>
      copy_tags_to_snapshot:      "false"
      db_subnet_group_name:       <computed>
      endpoint:                   <computed>
      engine:                     "mysql"
      engine_version:             <computed>
      hosted_zone_id:             <computed>
      identifier:                 <computed>
      identifier_prefix:          <computed>
      instance_class:             "db.t2.micro"
      kms_key_id:                 <computed>
      license_model:              <computed>
      maintenance_window:         <computed>
      monitoring_interval:        "0"
      monitoring_role_arn:        <computed>
      multi_az:                   <computed>
      name:                       "simplex_software_mysql_dev_instance"
      option_group_name:          <computed>
      parameter_group_name:       <computed>
      password:                   <sensitive>
      port:                       <computed>
      publicly_accessible:        "false"
      replicas.#:                 <computed>
      resource_id:                <computed>
      skip_final_snapshot:        "true"
      status:                     <computed>
      storage_type:               <computed>
      timezone:                   <computed>
      username:                   "root"
      vpc_security_group_ids.#:   <computed>


Plan: 1 to add, 0 to change, 0 to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

aws_db_instance.simplex_software: Creating...
  address:                    "" => "<computed>"
  allocated_storage:          "" => "10"
  apply_immediately:          "" => "<computed>"
  arn:                        "" => "<computed>"
  auto_minor_version_upgrade: "" => "true"
  availability_zone:          "" => "<computed>"
  backup_retention_period:    "" => "<computed>"
  backup_window:              "" => "<computed>"
  ca_cert_identifier:         "" => "<computed>"
  character_set_name:         "" => "<computed>"
  copy_tags_to_snapshot:      "" => "false"
  db_subnet_group_name:       "" => "<computed>"
  endpoint:                   "" => "<computed>"
  engine:                     "" => "mysql"
  engine_version:             "" => "<computed>"
  hosted_zone_id:             "" => "<computed>"
  identifier:                 "" => "<computed>"
  identifier_prefix:          "" => "<computed>"
  instance_class:             "" => "db.t2.micro"
  kms_key_id:                 "" => "<computed>"
  license_model:              "" => "<computed>"
  maintenance_window:         "" => "<computed>"
  monitoring_interval:        "" => "0"
  monitoring_role_arn:        "" => "<computed>"
  multi_az:                   "" => "<computed>"
  name:                       "" => "simplex_software_mysql_dev_instance"
  option_group_name:          "" => "<computed>"
  parameter_group_name:       "" => "<computed>"
  password:                   "<sensitive>" => "<sensitive>"
  port:                       "" => "<computed>"
  publicly_accessible:        "" => "false"
  replicas.#:                 "" => "<computed>"
  resource_id:                "" => "<computed>"
  skip_final_snapshot:        "" => "true"
  status:                     "" => "<computed>"
  storage_type:               "" => "<computed>"
  timezone:                   "" => "<computed>"
  username:                   "" => "root"
  vpc_security_group_ids.#:   "" => "<computed>"
aws_db_instance.simplex_software: Still creating... (10s elapsed)
aws_db_instance.simplex_software: Still creating... (20s elapsed)
aws_db_instance.simplex_software: Still creating... (30s elapsed)
aws_db_instance.simplex_software: Still creating... (40s elapsed)
aws_db_instance.simplex_software: Still creating... (50s elapsed)
aws_db_instance.simplex_software: Still creating... (1m0s elapsed)
aws_db_instance.simplex_software: Still creating... (1m10s elapsed)
aws_db_instance.simplex_software: Still creating... (1m20s elapsed)
aws_db_instance.simplex_software: Still creating... (1m30s elapsed)
aws_db_instance.simplex_software: Still creating... (1m40s elapsed)
aws_db_instance.simplex_software: Still creating... (1m50s elapsed)
aws_db_instance.simplex_software: Still creating... (2m0s elapsed)
aws_db_instance.simplex_software: Still creating... (2m10s elapsed)
aws_db_instance.simplex_software: Still creating... (2m20s elapsed)
aws_db_instance.simplex_software: Still creating... (2m30s elapsed)
aws_db_instance.simplex_software: Still creating... (2m40s elapsed)
aws_db_instance.simplex_software: Still creating... (2m50s elapsed)
aws_db_instance.simplex_software: Still creating... (3m0s elapsed)
aws_db_instance.simplex_software: Still creating... (3m10s elapsed)
aws_db_instance.simplex_software: Creation complete after 3m13s (ID: terraform-20190109120714105800000001)

Apply complete! Resources: 1 added, 0 changed, 0 destroyed.

Outputs:

address = terraform-20190109120714105800000001.ckhzgawvvdj7.us-east-1.rds.amazonaws.com
port = 3306
Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.

data.terraform_remote_state.db: Refreshing state...
data.aws_availability_zones.all: Refreshing state...
data.template_file.httpd_data: Refreshing state...

------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + module.webserver_cluster.aws_autoscaling_group.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      availability_zones.#:                   "6"
      availability_zones.1252502072:          "us-east-1f"
      availability_zones.1305112097:          "us-east-1b"
      availability_zones.2762590996:          "us-east-1d"
      availability_zones.3551460226:          "us-east-1e"
      availability_zones.3569565595:          "us-east-1a"
      availability_zones.986537655:           "us-east-1c"
      default_cooldown:                       <computed>
      desired_capacity:                       <computed>
      force_delete:                           "false"
      health_check_grace_period:              "300"
      health_check_type:                      "ELB"
      launch_configuration:                   "${aws_launch_configuration.simplex_software.id}"
      load_balancers.#:                       "1"
      load_balancers.1007202110:              "webserver-cluster-dev-elb"
      max_size:                               "2"
      metrics_granularity:                    "1Minute"
      min_size:                               "2"
      name:                                   "simplex-software-aws-autoscaling-group"
      protect_from_scale_in:                  "false"
      service_linked_role_arn:                <computed>
      tag.#:                                  "1"
      tag.2448692352.key:                     "Name"
      tag.2448692352.propagate_at_launch:     "true"
      tag.2448692352.value:                   "webserver-cluster-dev"
      target_group_arns.#:                    <computed>
      vpc_zone_identifier.#:                  <computed>
      wait_for_capacity_timeout:              "10m"

  + module.webserver_cluster.aws_autoscaling_schedule.scale_in_at_night
      id:                                     <computed>
      arn:                                    <computed>
      autoscaling_group_name:                 "simplex-software-aws-autoscaling-group"
      desired_capacity:                       "1"
      end_time:                               <computed>
      max_size:                               "2"
      min_size:                               "2"
      recurrence:                             "0 17 * * *"
      scheduled_action_name:                  "scale-in-at-night"
      start_time:                             <computed>

  + module.webserver_cluster.aws_autoscaling_schedule.scale_out_during_business_hours
      id:                                     <computed>
      arn:                                    <computed>
      autoscaling_group_name:                 "simplex-software-aws-autoscaling-group"
      desired_capacity:                       "2"
      end_time:                               <computed>
      max_size:                               "2"
      min_size:                               "2"
      recurrence:                             "0 9 * * *"
      scheduled_action_name:                  "scale-out-during-business-hours"
      start_time:                             <computed>

  + module.webserver_cluster.aws_elb.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      availability_zones.#:                   "6"
      availability_zones.1252502072:          "us-east-1f"
      availability_zones.1305112097:          "us-east-1b"
      availability_zones.2762590996:          "us-east-1d"
      availability_zones.3551460226:          "us-east-1e"
      availability_zones.3569565595:          "us-east-1a"
      availability_zones.986537655:           "us-east-1c"
      connection_draining:                    "false"
      connection_draining_timeout:            "300"
      cross_zone_load_balancing:              "true"
      dns_name:                               <computed>
      health_check.#:                         "1"
      health_check.0.healthy_threshold:       "2"
      health_check.0.interval:                "30"
      health_check.0.target:                  "HTTP:8080/"
      health_check.0.timeout:                 "3"
      health_check.0.unhealthy_threshold:     "2"
      idle_timeout:                           "60"
      instances.#:                            <computed>
      internal:                               <computed>
      listener.#:                             "1"
      listener.3931999347.instance_port:      "8080"
      listener.3931999347.instance_protocol:  "http"
      listener.3931999347.lb_port:            "80"
      listener.3931999347.lb_protocol:        "http"
      listener.3931999347.ssl_certificate_id: ""
      name:                                   "webserver-cluster-dev-elb"
      security_groups.#:                      <computed>
      source_security_group:                  <computed>
      source_security_group_id:               <computed>
      subnets.#:                              <computed>
      zone_id:                                <computed>

  + module.webserver_cluster.aws_launch_configuration.simplex_software
      id:                                     <computed>
      associate_public_ip_address:            "false"
      ebs_block_device.#:                     <computed>
      ebs_optimized:                          <computed>
      enable_monitoring:                      "true"
      image_id:                               "ami-40d28157"
      instance_type:                          "t2.micro"
      key_name:                               <computed>
      name:                                   "simplex-software-aws-launch-config"
      root_block_device.#:                    <computed>
      security_groups.#:                      "1"
      security_groups.1845585556:             "webserver-cluster-dev-security-group"
      user_data:                              "806e941524e22bcdb6d046c568abc27971d43f91"

  + module.webserver_cluster.aws_security_group.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      description:                            "Managed by Terraform"
      egress.#:                               <computed>
      ingress.#:                              <computed>
      name:                                   "webserver-cluster-dev-security-group"
      owner_id:                               <computed>
      revoke_rules_on_delete:                 "false"
      vpc_id:                                 <computed>

  + module.webserver_cluster.aws_security_group.simplex_software_elb
      id:                                     <computed>
      arn:                                    <computed>
      description:                            "Managed by Terraform"
      egress.#:                               <computed>
      ingress.#:                              <computed>
      name:                                   "webserver-cluster-dev-security-group-elb"
      owner_id:                               <computed>
      revoke_rules_on_delete:                 "false"
      vpc_id:                                 <computed>

  + module.webserver_cluster.aws_security_group_rule.simplex_software_elb_inbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "80"
      protocol:                               "tcp"
      security_group_id:                      "${aws_security_group.simplex_software_elb.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "80"
      type:                                   "ingress"

  + module.webserver_cluster.aws_security_group_rule.simplex_software_inbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "8080"
      protocol:                               "tcp"
      security_group_id:                      "${aws_security_group.simplex_software.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "8080"
      type:                                   "ingress"

  + module.webserver_cluster.aws_security_group_rule.simplex_software_outbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "0"
      protocol:                               "-1"
      security_group_id:                      "${aws_security_group.simplex_software_elb.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "0"
      type:                                   "egress"


Plan: 10 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

Note: You didn't specify an "-out" parameter to save this plan, so Terraform
can't guarantee that exactly these actions will be performed if
"terraform apply" is subsequently run.

data.terraform_remote_state.db: Refreshing state...
data.aws_availability_zones.all: Refreshing state...
data.template_file.httpd_data: Refreshing state...

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + module.webserver_cluster.aws_autoscaling_group.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      availability_zones.#:                   "6"
      availability_zones.1252502072:          "us-east-1f"
      availability_zones.1305112097:          "us-east-1b"
      availability_zones.2762590996:          "us-east-1d"
      availability_zones.3551460226:          "us-east-1e"
      availability_zones.3569565595:          "us-east-1a"
      availability_zones.986537655:           "us-east-1c"
      default_cooldown:                       <computed>
      desired_capacity:                       <computed>
      force_delete:                           "false"
      health_check_grace_period:              "300"
      health_check_type:                      "ELB"
      launch_configuration:                   "${aws_launch_configuration.simplex_software.id}"
      load_balancers.#:                       "1"
      load_balancers.1007202110:              "webserver-cluster-dev-elb"
      max_size:                               "2"
      metrics_granularity:                    "1Minute"
      min_size:                               "2"
      name:                                   "simplex-software-aws-autoscaling-group"
      protect_from_scale_in:                  "false"
      service_linked_role_arn:                <computed>
      tag.#:                                  "1"
      tag.2448692352.key:                     "Name"
      tag.2448692352.propagate_at_launch:     "true"
      tag.2448692352.value:                   "webserver-cluster-dev"
      target_group_arns.#:                    <computed>
      vpc_zone_identifier.#:                  <computed>
      wait_for_capacity_timeout:              "10m"

  + module.webserver_cluster.aws_autoscaling_schedule.scale_in_at_night
      id:                                     <computed>
      arn:                                    <computed>
      autoscaling_group_name:                 "simplex-software-aws-autoscaling-group"
      desired_capacity:                       "1"
      end_time:                               <computed>
      max_size:                               "2"
      min_size:                               "2"
      recurrence:                             "0 17 * * *"
      scheduled_action_name:                  "scale-in-at-night"
      start_time:                             <computed>

  + module.webserver_cluster.aws_autoscaling_schedule.scale_out_during_business_hours
      id:                                     <computed>
      arn:                                    <computed>
      autoscaling_group_name:                 "simplex-software-aws-autoscaling-group"
      desired_capacity:                       "2"
      end_time:                               <computed>
      max_size:                               "2"
      min_size:                               "2"
      recurrence:                             "0 9 * * *"
      scheduled_action_name:                  "scale-out-during-business-hours"
      start_time:                             <computed>

  + module.webserver_cluster.aws_elb.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      availability_zones.#:                   "6"
      availability_zones.1252502072:          "us-east-1f"
      availability_zones.1305112097:          "us-east-1b"
      availability_zones.2762590996:          "us-east-1d"
      availability_zones.3551460226:          "us-east-1e"
      availability_zones.3569565595:          "us-east-1a"
      availability_zones.986537655:           "us-east-1c"
      connection_draining:                    "false"
      connection_draining_timeout:            "300"
      cross_zone_load_balancing:              "true"
      dns_name:                               <computed>
      health_check.#:                         "1"
      health_check.0.healthy_threshold:       "2"
      health_check.0.interval:                "30"
      health_check.0.target:                  "HTTP:8080/"
      health_check.0.timeout:                 "3"
      health_check.0.unhealthy_threshold:     "2"
      idle_timeout:                           "60"
      instances.#:                            <computed>
      internal:                               <computed>
      listener.#:                             "1"
      listener.3931999347.instance_port:      "8080"
      listener.3931999347.instance_protocol:  "http"
      listener.3931999347.lb_port:            "80"
      listener.3931999347.lb_protocol:        "http"
      listener.3931999347.ssl_certificate_id: ""
      name:                                   "webserver-cluster-dev-elb"
      security_groups.#:                      <computed>
      source_security_group:                  <computed>
      source_security_group_id:               <computed>
      subnets.#:                              <computed>
      zone_id:                                <computed>

  + module.webserver_cluster.aws_launch_configuration.simplex_software
      id:                                     <computed>
      associate_public_ip_address:            "false"
      ebs_block_device.#:                     <computed>
      ebs_optimized:                          <computed>
      enable_monitoring:                      "true"
      image_id:                               "ami-40d28157"
      instance_type:                          "t2.micro"
      key_name:                               <computed>
      name:                                   "simplex-software-aws-launch-config"
      root_block_device.#:                    <computed>
      security_groups.#:                      "1"
      security_groups.1845585556:             "webserver-cluster-dev-security-group"
      user_data:                              "806e941524e22bcdb6d046c568abc27971d43f91"

  + module.webserver_cluster.aws_security_group.simplex_software
      id:                                     <computed>
      arn:                                    <computed>
      description:                            "Managed by Terraform"
      egress.#:                               <computed>
      ingress.#:                              <computed>
      name:                                   "webserver-cluster-dev-security-group"
      owner_id:                               <computed>
      revoke_rules_on_delete:                 "false"
      vpc_id:                                 <computed>

  + module.webserver_cluster.aws_security_group.simplex_software_elb
      id:                                     <computed>
      arn:                                    <computed>
      description:                            "Managed by Terraform"
      egress.#:                               <computed>
      ingress.#:                              <computed>
      name:                                   "webserver-cluster-dev-security-group-elb"
      owner_id:                               <computed>
      revoke_rules_on_delete:                 "false"
      vpc_id:                                 <computed>

  + module.webserver_cluster.aws_security_group_rule.simplex_software_elb_inbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "80"
      protocol:                               "tcp"
      security_group_id:                      "${aws_security_group.simplex_software_elb.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "80"
      type:                                   "ingress"

  + module.webserver_cluster.aws_security_group_rule.simplex_software_inbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "8080"
      protocol:                               "tcp"
      security_group_id:                      "${aws_security_group.simplex_software.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "8080"
      type:                                   "ingress"

  + module.webserver_cluster.aws_security_group_rule.simplex_software_outbound
      id:                                     <computed>
      cidr_blocks.#:                          "1"
      cidr_blocks.0:                          "0.0.0.0/0"
      from_port:                              "0"
      protocol:                               "-1"
      security_group_id:                      "${aws_security_group.simplex_software_elb.id}"
      self:                                   "false"
      source_security_group_id:               <computed>
      to_port:                                "0"
      type:                                   "egress"


Plan: 10 to add, 0 to change, 0 to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

module.webserver_cluster.aws_security_group.simplex_software_elb: Creating...
  arn:                    "" => "<computed>"
  description:            "" => "Managed by Terraform"
  egress.#:               "" => "<computed>"
  ingress.#:              "" => "<computed>"
  name:                   "" => "webserver-cluster-dev-security-group-elb"
  owner_id:               "" => "<computed>"
  revoke_rules_on_delete: "" => "false"
  vpc_id:                 "" => "<computed>"
module.webserver_cluster.aws_security_group.simplex_software: Creating...
  arn:                    "" => "<computed>"
  description:            "" => "Managed by Terraform"
  egress.#:               "" => "<computed>"
  ingress.#:              "" => "<computed>"
  name:                   "" => "webserver-cluster-dev-security-group"
  owner_id:               "" => "<computed>"
  revoke_rules_on_delete: "" => "false"
  vpc_id:                 "" => "<computed>"
module.webserver_cluster.aws_security_group.simplex_software: Creation complete after 4s (ID: sg-04e63dbf7010d9a8f)
module.webserver_cluster.aws_security_group_rule.simplex_software_inbound: Creating...
  cidr_blocks.#:            "" => "1"
  cidr_blocks.0:            "" => "0.0.0.0/0"
  from_port:                "" => "8080"
  protocol:                 "" => "tcp"
  security_group_id:        "" => "sg-04e63dbf7010d9a8f"
  self:                     "" => "false"
  source_security_group_id: "" => "<computed>"
  to_port:                  "" => "8080"
  type:                     "" => "ingress"
module.webserver_cluster.aws_launch_configuration.simplex_software: Creating...
  associate_public_ip_address: "" => "false"
  ebs_block_device.#:          "" => "<computed>"
  ebs_optimized:               "" => "<computed>"
  enable_monitoring:           "" => "true"
  image_id:                    "" => "ami-40d28157"
  instance_type:               "" => "t2.micro"
  key_name:                    "" => "<computed>"
  name:                        "" => "simplex-software-aws-launch-config"
  root_block_device.#:         "" => "<computed>"
  security_groups.#:           "" => "1"
  security_groups.1845585556:  "" => "webserver-cluster-dev-security-group"
  user_data:                   "" => "806e941524e22bcdb6d046c568abc27971d43f91"
module.webserver_cluster.aws_security_group.simplex_software_elb: Creation complete after 4s (ID: sg-0cbb2de3e40e8ccb0)
module.webserver_cluster.aws_security_group_rule.simplex_software_outbound: Creating...
  cidr_blocks.#:            "" => "1"
  cidr_blocks.0:            "" => "0.0.0.0/0"
  from_port:                "" => "0"
  protocol:                 "" => "-1"
  security_group_id:        "" => "sg-0cbb2de3e40e8ccb0"
  self:                     "" => "false"
  source_security_group_id: "" => "<computed>"
  to_port:                  "" => "0"
  type:                     "" => "egress"
module.webserver_cluster.aws_security_group_rule.simplex_software_elb_inbound: Creating...
  cidr_blocks.#:            "" => "1"
  cidr_blocks.0:            "" => "0.0.0.0/0"
  from_port:                "" => "80"
  protocol:                 "" => "tcp"
  security_group_id:        "" => "sg-0cbb2de3e40e8ccb0"
  self:                     "" => "false"
  source_security_group_id: "" => "<computed>"
  to_port:                  "" => "80"
  type:                     "" => "ingress"
module.webserver_cluster.aws_elb.simplex_software: Creating...
  arn:                                    "" => "<computed>"
  availability_zones.#:                   "" => "6"
  availability_zones.1252502072:          "" => "us-east-1f"
  availability_zones.1305112097:          "" => "us-east-1b"
  availability_zones.2762590996:          "" => "us-east-1d"
  availability_zones.3551460226:          "" => "us-east-1e"
  availability_zones.3569565595:          "" => "us-east-1a"
  availability_zones.986537655:           "" => "us-east-1c"
  connection_draining:                    "" => "false"
  connection_draining_timeout:            "" => "300"
  cross_zone_load_balancing:              "" => "true"
  dns_name:                               "" => "<computed>"
  health_check.#:                         "" => "1"
  health_check.0.healthy_threshold:       "" => "2"
  health_check.0.interval:                "" => "30"
  health_check.0.target:                  "" => "HTTP:8080/"
  health_check.0.timeout:                 "" => "3"
  health_check.0.unhealthy_threshold:     "" => "2"
  idle_timeout:                           "" => "60"
  instances.#:                            "" => "<computed>"
  internal:                               "" => "<computed>"
  listener.#:                             "" => "1"
  listener.3931999347.instance_port:      "" => "8080"
  listener.3931999347.instance_protocol:  "" => "http"
  listener.3931999347.lb_port:            "" => "80"
  listener.3931999347.lb_protocol:        "" => "http"
  listener.3931999347.ssl_certificate_id: "" => ""
  name:                                   "" => "webserver-cluster-dev-elb"
  security_groups.#:                      "" => "1"
  security_groups.3301936904:             "" => "sg-0cbb2de3e40e8ccb0"
  source_security_group:                  "" => "<computed>"
  source_security_group_id:               "" => "<computed>"
  subnets.#:                              "" => "<computed>"
  zone_id:                                "" => "<computed>"
module.webserver_cluster.aws_security_group_rule.simplex_software_inbound: Creation complete after 2s (ID: sgrule-832663669)
module.webserver_cluster.aws_security_group_rule.simplex_software_elb_inbound: Creation complete after 2s (ID: sgrule-2669339032)
module.webserver_cluster.aws_launch_configuration.simplex_software: Creation complete after 2s (ID: simplex-software-aws-launch-config)
module.webserver_cluster.aws_security_group_rule.simplex_software_outbound: Creation complete after 5s (ID: sgrule-3225375233)
module.webserver_cluster.aws_elb.simplex_software: Still creating... (10s elapsed)
module.webserver_cluster.aws_elb.simplex_software: Creation complete after 11s (ID: webserver-cluster-dev-elb)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Creating...
  arn:                                "" => "<computed>"
  availability_zones.#:               "" => "6"
  availability_zones.1252502072:      "" => "us-east-1f"
  availability_zones.1305112097:      "" => "us-east-1b"
  availability_zones.2762590996:      "" => "us-east-1d"
  availability_zones.3551460226:      "" => "us-east-1e"
  availability_zones.3569565595:      "" => "us-east-1a"
  availability_zones.986537655:       "" => "us-east-1c"
  default_cooldown:                   "" => "<computed>"
  desired_capacity:                   "" => "<computed>"
  force_delete:                       "" => "false"
  health_check_grace_period:          "" => "300"
  health_check_type:                  "" => "ELB"
  launch_configuration:               "" => "simplex-software-aws-launch-config"
  load_balancers.#:                   "" => "1"
  load_balancers.1007202110:          "" => "webserver-cluster-dev-elb"
  max_size:                           "" => "2"
  metrics_granularity:                "" => "1Minute"
  min_size:                           "" => "2"
  name:                               "" => "simplex-software-aws-autoscaling-group"
  protect_from_scale_in:              "" => "false"
  service_linked_role_arn:            "" => "<computed>"
  tag.#:                              "" => "1"
  tag.2448692352.key:                 "" => "Name"
  tag.2448692352.propagate_at_launch: "" => "true"
  tag.2448692352.value:               "" => "webserver-cluster-dev"
  target_group_arns.#:                "" => "<computed>"
  vpc_zone_identifier.#:              "" => "<computed>"
  wait_for_capacity_timeout:          "" => "10m"
module.webserver_cluster.aws_autoscaling_group.simplex_software: Still creating... (10s elapsed)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Still creating... (20s elapsed)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Still creating... (30s elapsed)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Still creating... (40s elapsed)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Still creating... (50s elapsed)
module.webserver_cluster.aws_autoscaling_group.simplex_software: Creation complete after 54s (ID: simplex-software-aws-autoscaling-group)
module.webserver_cluster.aws_autoscaling_schedule.scale_in_at_night: Creating...
  arn:                    "" => "<computed>"
  autoscaling_group_name: "" => "simplex-software-aws-autoscaling-group"
  desired_capacity:       "" => "1"
  end_time:               "" => "<computed>"
  max_size:               "" => "2"
  min_size:               "" => "2"
  recurrence:             "" => "0 17 * * *"
  scheduled_action_name:  "" => "scale-in-at-night"
  start_time:             "" => "<computed>"
module.webserver_cluster.aws_autoscaling_schedule.scale_in_at_night: Creation complete after 3s (ID: scale-in-at-night)
module.webserver_cluster.aws_autoscaling_schedule.scale_out_during_business_hours: Creating...
  arn:                    "" => "<computed>"
  autoscaling_group_name: "" => "simplex-software-aws-autoscaling-group"
  desired_capacity:       "" => "2"
  end_time:               "" => "<computed>"
  max_size:               "" => "2"
  min_size:               "" => "2"
  recurrence:             "" => "0 9 * * *"
  scheduled_action_name:  "" => "scale-out-during-business-hours"
  start_time:             "" => "<computed>"
module.webserver_cluster.aws_autoscaling_schedule.scale_out_during_business_hours: Creation complete after 2s (ID: scale-out-during-business-hours)


Apply complete! Resources: 1 added, 0 changed, 0 destroyed.

Outputs:

elb_dns_name = webserver-cluster-dev-elb-1639163829.us-east-1.elb.amazonaws.com
nicolas@BEL20:~/devops/aws-asg$ 

